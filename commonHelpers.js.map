{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const refs = {\n  formIMG: document.querySelector('form'),\n  galery: document.querySelector('.galery__list'),\n  loader: document.querySelector('.loader'),\n  preLoader: document.querySelector('.preLoader'),\n};\n","import { refs } from './refs';\nexport function render(img) {\n  const list = img\n    .map(\n      ({ webformatURL, views, comments, likes, downloads } = img) =>\n        `<li class=\"galery__item\">\n          <div class=\"galery__item-div\">\n            <a href=\"${webformatURL}\">\n              <img\n                class=\"galery-img\"\n                src = \"${webformatURL}\"\n                alt=\"\"\n\n              />\n            </a>\n            <div class=\"galery__info\">\n              <ul class=\"gallery__info-list\">\n                <!-- ! подпись под карточкой -->\n\n                <li class=\"galeri__info-item\">\n                  <p class=\"galeri__info-header\">Likes</p>\n                  <p class=\"galeri__ingo-footer\">${likes}</p>\n                </li>\n                <li class=\"galeri__info-item\">\n                  <p class=\"galeri__info-header\">Views</p>\n                  <p class=\"galeri__ingo-footer\">${views}</p>\n                </li>\n                <li class=\"galeri__info-item\">\n                  <p class=\"galeri__info-header\">Comments</p>\n                  <p class=\"galeri__ingo-footer\">${comments}</p>\n                </li>\n                <li class=\"galeri__info-item\">\n                  <p class=\"galeri__info-header\">Downloads</p>\n                  <p class=\"galeri__ingo-footer\">${downloads}</p>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </li>`\n    )\n    .join('');\n\n  refs.galery.insertAdjacentHTML('beforeend', list);\n}\n\nexport function clearCiild(perents) {\n  perents.innerHTML = '';\n\n  //!  Old methods\n\n  // const myNode = document.getElementById(`${perents}`);\n  // while (perents.firstChild) {\n  //   perents.removeChild(perents.lastChild);\n  // }\n}\n// Old method\n// export function print(objeckt, img, likes, vievs, comments, downloads) {\n//   const list = render(img, likes, vievs, comments, downloads);\n// }\n","const BASE_URL = 'https://pixabay.com/api/';\nconst USERkEY = '?key=44446882-f589529ab68d1d31e6487214d';\n\nexport function getAllBooks(param) {\n  const END_POINT = `&q=${param}&min_width=2450`;\n  const params = '&image_type=photo&orientation=horizontal&safesearch=true';\n\n  const url = `${BASE_URL}${USERkEY}${END_POINT}${params}`;\n\n  const headers = {};\n\n  const promiseIMG = fetch(url);\n\n  return promiseIMG\n    .then(data => data.json())\n\n    .catch(() => {\n      console.log('Error');\n    });\n  console.log(url);\n}\n\n//  ПРимер! Извлечение фотографий «желтых цветов». Поисковый запросддолжен быть закодирован в URL:\n\n// https://pixabay.com/api/?key=44446882-f589529ab68d1d31e6487214d&q=yellow+flowers&image_type=photo\n","import { render, clearCiild } from './js/render-functions';\nimport { getAllBooks } from './js/pixabay-api';\nimport { refs } from './js/refs';\n\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nhideLoader();\n\nrefs.formIMG.addEventListener('submit', seartchIMG);\nlet gallery = new SimpleLightbox('.galery__item-div a');\n\nfunction seartchIMG(e) {\n  e.preventDefault();\n  const nameIMG = e.target.name.value.trim();\n  if (nameIMG === '') {\n    clearCiild(refs.galery);\n    iziToast.info({\n      title: 'Пустой РЯДОК!!',\n    });\n    return;\n  }\n\n  showLoader();\n  getAllBooks(nameIMG).then(img => {\n    if (img.hits.length == 0) {\n      hideLoader();\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      clearCiild(refs.galery);\n      return;\n    }\n\n    clearCiild(refs.galery);\n\n    // Old method\n    // img.hits.forEach(element => {\n    //   print(\n    //     refs.galery,\n    //     element.webformatURL,\n    //     element.likes,\n    //     element.views,\n    //     element.comments,\n    //     element.downloads\n    //   );\n    // });\n    render(img.hits);\n    gallery.refresh();\n    loaderVision();\n  });\n  e.target.name.value = '';\n}\nfunction loaderVision() {\n  const mediaFiles = document.querySelectorAll('img, video');\n  let i = 0;\n\n  Array.from(mediaFiles).forEach(file => {\n    file.onload = () => {\n      i++;\n\n      if (i === mediaFiles.length - 2) {\n        hideLoader();\n      }\n    };\n  });\n}\n\nfunction showLoader() {\n  refs.loader.classList.remove('hidden');\n  refs.preLoader.classList.remove('hidden');\n}\nfunction hideLoader() {\n  refs.loader.classList.add('hidden');\n  refs.preLoader.classList.add('hidden');\n}\n"],"names":["refs","render","img","list","webformatURL","views","comments","likes","downloads","clearCiild","perents","BASE_URL","USERkEY","getAllBooks","param","END_POINT","url","data","hideLoader","seartchIMG","gallery","SimpleLightbox","e","nameIMG","iziToast","showLoader","loaderVision","mediaFiles","i","file"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,QAAS,SAAS,cAAc,MAAM,EACtC,OAAQ,SAAS,cAAc,eAAe,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,UAAW,SAAS,cAAc,YAAY,CAChD,ECJO,SAASC,EAAOC,EAAK,CAC1B,MAAMC,EAAOD,EACV,IACC,CAAC,CAAE,aAAAE,EAAc,MAAAC,EAAO,SAAAC,EAAU,MAAAC,EAAO,UAAAC,CAAS,EAAKN,IACrD;AAAA;AAAA,uBAEeE,CAAY;AAAA;AAAA;AAAA,yBAGVA,CAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAWcG,CAAK;AAAA;AAAA;AAAA;AAAA,mDAILF,CAAK;AAAA;AAAA;AAAA;AAAA,mDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mDAIRE,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,cAMvD,EACA,KAAK,EAAE,EAEVR,EAAK,OAAO,mBAAmB,YAAaG,CAAI,CAClD,CAEO,SAASM,EAAWC,EAAS,CAClCA,EAAQ,UAAY,GAEtB;AAMA,CCtDA,MAAMC,EAAW,2BACXC,EAAU,0CAET,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAY,MAAMD,CAAK,kBAGvBE,EAAM,GAAGL,CAAQ,GAAGC,CAAO,GAAGG,CAAS,2DAM7C,OAFmB,MAAMC,CAAG,EAGzB,KAAKC,GAAQA,EAAK,MAAM,EAExB,MAAM,IAAM,CACX,QAAQ,IAAI,OAAO,CACzB,CAAK,CAEL,CCRAC,IAEAlB,EAAK,QAAQ,iBAAiB,SAAUmB,CAAU,EAClD,IAAIC,EAAU,IAAIC,EAAe,qBAAqB,EAEtD,SAASF,EAAWG,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMC,EAAUD,EAAE,OAAO,KAAK,MAAM,OACpC,GAAIC,IAAY,GAAI,CAClBd,EAAWT,EAAK,MAAM,EACtBwB,EAAS,KAAK,CACZ,MAAO,gBACb,CAAK,EACD,MACD,CAEDC,IACAZ,EAAYU,CAAO,EAAE,KAAKrB,GAAO,CAC/B,GAAIA,EAAI,KAAK,QAAU,EAAG,CACxBgB,IACAM,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,EACDf,EAAWT,EAAK,MAAM,EACtB,MACD,CAEDS,EAAWT,EAAK,MAAM,EAatBC,EAAOC,EAAI,IAAI,EACfkB,EAAQ,QAAO,EACfM,GACJ,CAAG,EACDJ,EAAE,OAAO,KAAK,MAAQ,EACxB,CACA,SAASI,GAAe,CACtB,MAAMC,EAAa,SAAS,iBAAiB,YAAY,EACzD,IAAIC,EAAI,EAER,MAAM,KAAKD,CAAU,EAAE,QAAQE,GAAQ,CACrCA,EAAK,OAAS,IAAM,CAClBD,IAEIA,IAAMD,EAAW,OAAS,GAC5BT,GAER,CACA,CAAG,CACH,CAEA,SAASO,GAAa,CACpBzB,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCA,EAAK,UAAU,UAAU,OAAO,QAAQ,CAC1C,CACA,SAASkB,GAAa,CACpBlB,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,UAAU,UAAU,IAAI,QAAQ,CACvC"}