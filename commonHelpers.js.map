{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function render(img, likes, vievs, comments, downloads) {\n  const list = `<li class=\"galery__item\">\n          <div class=\"galery__item-div\">\n            <a href=\"${img}\">\n              <img\n                class=\"galery-img\"\n                src = \"${img}\"\n                alt=\"\"\n                \n                \n              />\n            </a>\n            <div class=\"galery__info\">\n              <ul class=\"gallery__info-list\">\n                <!-- ! подпись под карточкой -->\n\n                <li class=\"galeri__info-item\">\n                  <p class=\"galeri__info-header\">Likes</p>\n                  <p class=\"galeri__ingo-footer\">${likes}</p>\n                </li>\n                <li class=\"galeri__info-item\">\n                  <p class=\"galeri__info-header\">Views</p>\n                  <p class=\"galeri__ingo-footer\">${vievs}</p>\n                </li>\n                <li class=\"galeri__info-item\">\n                  <p class=\"galeri__info-header\">Comments</p>\n                  <p class=\"galeri__ingo-footer\">${comments}</p>\n                </li>\n                <li class=\"galeri__info-item\">\n                  <p class=\"galeri__info-header\">Downloads</p>\n                  <p class=\"galeri__ingo-footer\">${downloads}</p>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </li>`;\n  return list;\n}\nexport function clearCiild(perents) {\n  // const myNode = document.getElementById(`${perents}`);\n  while (perents.firstChild) {\n    perents.removeChild(perents.lastChild);\n  }\n}\n\nexport function print(objeckt, img, likes, vievs, comments, downloads) {\n  const list = render(img, likes, vievs, comments, downloads);\n  objeckt.insertAdjacentHTML('afterbegin', list);\n  // refs.galery.i;\n}\n","import { render, clearCiild, print } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  formIMG: document.querySelector('form'),\n  galery: document.querySelector('.galery__list'),\n  loader: document.querySelector('.loader'),\n  preLoader: document.querySelector('.preLoader'),\n};\n// console.log('galery' + refs.galery);\nhideLoader();\n\nrefs.formIMG.addEventListener('submit', needIMG);\n\nfunction needIMG(e) {\n  e.preventDefault();\n  console.log('IMG!');\n  const nameIMG = e.target.name.value;\n  console.log(nameIMG);\n  showLoader();\n  getAllBooks(nameIMG).then(img => {\n    if (img.hits.length == 0) {\n      console.log('ЖОПА_КОТОСРОФА');\n      hideLoader();\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return;\n    }\n\n    console.log('length' + img.hits.length);\n    console.log(img.hits);\n    clearCiild(refs.galery);\n\n    img.hits.forEach(\n      element => {\n        console.log(element.downloads);\n        print(\n          refs.galery,\n          element.webformatURL,\n          element.likes,\n          element.views,\n          element.comments,\n          element.downloads\n        );\n      }\n      // console.log(\n      //   // img, likes, vievs, comments, downloads\n      //   element.id +\n      //   ' ' +\n      //   element.webformatURL +\n      //   ' ' +\n      //   element.comments +\n      //   ' ' +\n      //   element.downloads\n      // );\n    );\n\n    let gallery = new SimpleLightbox('.galery__item-div a');\n    gallery.on('show.simplelightbox', function () {\n      // Do something…\n    });\n    loaderVision();\n  });\n  e.target.name.value = '';\n}\nfunction loaderVision() {\n  console.log('Лоадер!');\n\n  const mediaFiles = document.querySelectorAll('img, video');\n  let i = 0;\n  console.log(mediaFiles);\n  Array.from(mediaFiles).forEach(file => {\n    file.onload = () => {\n      i++;\n      console.log(i);\n      // PerformanceObserverEntryList.innerHTML = (i * 100) / mediaFiles.length;\n      if (i === mediaFiles.length - 2) {\n        console.log('ZGRYZILOS!');\n        hideLoader();\n      }\n    };\n  });\n}\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst USERkEY = '?key=44446882-f589529ab68d1d31e6487214d';\n\nfunction getAllBooks(param) {\n  const END_POINT = `&q=${param}&min_width=2450`;\n  const params = '&image_type=photo&orientation=horizontal&safesearch=true';\n\n  const url = `${BASE_URL}${USERkEY}${END_POINT}${params}`;\n\n  const headers = {};\n  // const ppc =\n  //   'https://pixabay.com/api/?key=44446882-f589529ab68d1d31e6487214d&q=yellow+flowers&image_type=photo&pretty=true';\n  const promiseIMG = fetch(url);\n\n  return promiseIMG\n    .then(data => data.json())\n\n    .catch(() => {\n      console.log('Error');\n    });\n  console.log(url);\n  // return fetch(url).then(res => res.json());\n}\n\nfunction showLoader() {\n  refs.loader.classList.remove('hidden');\n  refs.preLoader.classList.remove('hidden');\n}\nfunction hideLoader() {\n  refs.loader.classList.add('hidden');\n  refs.preLoader.classList.add('hidden');\n}\n\n// refs.galery.insertAdjacentHTML(\n//   'afterbegin',\n//   render(\n//     'https://pixabay.com/get/g233829aa67f63eab78797486f071f4138fd489fdd81f211174a594a6d7dbd95607f973fdb682684540da33f4ddf4d3962058b6f3c7f02f91132f35c2ae7ad777_1280.jpg',\n//     23,\n//     55,\n//     34,\n//     900\n//   )\n// );\n\n// const myNode = document.getElementById(`.galery__list`);\n// // console.log(refs.galery);\n// while (refs.galery.lastElementChild) {\n//   refs.galery.removeChild(refs.galery.lastChild);\n// }\n"],"names":["render","img","likes","vievs","comments","downloads","clearCiild","perents","print","objeckt","list","refs","hideLoader","needIMG","e","nameIMG","showLoader","getAllBooks","iziToast","element","SimpleLightbox","loaderVision","mediaFiles","i","file","BASE_URL","USERkEY","param","END_POINT","url","data"],"mappings":"6vBAAO,SAASA,EAAOC,EAAKC,EAAOC,EAAOC,EAAUC,EAAW,CAoC7D,MAnCa;AAAA;AAAA,uBAEQJ,CAAG;AAAA;AAAA;AAAA,yBAGDA,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAYuBC,CAAK;AAAA;AAAA;AAAA;AAAA,mDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,cAO5D,CACO,SAASC,EAAWC,EAAS,CAElC,KAAOA,EAAQ,YACbA,EAAQ,YAAYA,EAAQ,SAAS,CAEzC,CAEO,SAASC,EAAMC,EAASR,EAAKC,EAAOC,EAAOC,EAAUC,EAAW,CACrE,MAAMK,EAAOV,EAAOC,EAAKC,EAAOC,EAAOC,EAAUC,CAAS,EAC1DI,EAAQ,mBAAmB,aAAcC,CAAI,CAE/C,CCxCA,MAAMC,EAAO,CACX,QAAS,SAAS,cAAc,MAAM,EACtC,OAAQ,SAAS,cAAc,eAAe,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,UAAW,SAAS,cAAc,YAAY,CAChD,EAEAC,IAEAD,EAAK,QAAQ,iBAAiB,SAAUE,CAAO,EAE/C,SAASA,EAAQC,EAAG,CAClBA,EAAE,eAAc,EAChB,QAAQ,IAAI,MAAM,EAClB,MAAMC,EAAUD,EAAE,OAAO,KAAK,MAC9B,QAAQ,IAAIC,CAAO,EACnBC,IACAC,EAAYF,CAAO,EAAE,KAAKd,GAAO,CAC/B,GAAIA,EAAI,KAAK,QAAU,EAAG,CACxB,QAAQ,IAAI,gBAAgB,EAC5BW,IACAM,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,EACD,MACD,CAED,QAAQ,IAAI,SAAWjB,EAAI,KAAK,MAAM,EACtC,QAAQ,IAAIA,EAAI,IAAI,EACpBK,EAAWK,EAAK,MAAM,EAEtBV,EAAI,KAAK,QACPkB,GAAW,CACT,QAAQ,IAAIA,EAAQ,SAAS,EAC7BX,EACEG,EAAK,OACLQ,EAAQ,aACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,SACRA,EAAQ,SAClB,CACO,CAWP,EAEkB,IAAIC,EAAe,qBAAqB,EAC9C,GAAG,sBAAuB,UAAY,CAElD,CAAK,EACDC,GACJ,CAAG,EACDP,EAAE,OAAO,KAAK,MAAQ,EACxB,CACA,SAASO,GAAe,CACtB,QAAQ,IAAI,SAAS,EAErB,MAAMC,EAAa,SAAS,iBAAiB,YAAY,EACzD,IAAIC,EAAI,EACR,QAAQ,IAAID,CAAU,EACtB,MAAM,KAAKA,CAAU,EAAE,QAAQE,GAAQ,CACrCA,EAAK,OAAS,IAAM,CAClBD,IACA,QAAQ,IAAIA,CAAC,EAETA,IAAMD,EAAW,OAAS,IAC5B,QAAQ,IAAI,YAAY,EACxBV,IAER,CACA,CAAG,CACH,CAEA,MAAMa,EAAW,2BACXC,EAAU,0CAEhB,SAAST,EAAYU,EAAO,CAC1B,MAAMC,EAAY,MAAMD,CAAK,kBAGvBE,EAAM,GAAGJ,CAAQ,GAAGC,CAAO,GAAGE,CAAS,2DAO7C,OAFmB,MAAMC,CAAG,EAGzB,KAAKC,GAAQA,EAAK,MAAM,EAExB,MAAM,IAAM,CACX,QAAQ,IAAI,OAAO,CACzB,CAAK,CAGL,CAEA,SAASd,GAAa,CACpBL,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCA,EAAK,UAAU,UAAU,OAAO,QAAQ,CAC1C,CACA,SAASC,GAAa,CACpBD,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,UAAU,UAAU,IAAI,QAAQ,CACvC"}